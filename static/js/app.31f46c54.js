(function(){"use strict";var t={2997:function(t,e,n){var a=n(1624);const i={id:"home"},r={class:"box"},o={class:"date"},c=(0,a._)("h2",null,"今日天气",-1),s={class:"currentWeather"},h={class:"card"},u={key:0,class:"weather_box"},l=(0,a._)("h2",null,"未来5日预测",-1),d={class:"forecast"},p={class:"location"},f={class:"card2"},g={class:""};function v(t,e,n,v,w,y){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",r,[(0,a._)("h2",o,(0,a.zw)(w.db.year)+"年"+(0,a.zw)(w.db.month)+(0,a.zw)(w.db.date)+"日"+(0,a.zw)(w.db.day),1),c,(0,a._)("div",s,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(w.cityMap.values(),(t=>((0,a.wg)(),(0,a.iD)("div",h,["undefined"!=typeof t.main?((0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("div",null,(0,a.zw)(w.cityNameMap.get(t.name)),1),(0,a._)("div",null,(0,a.zw)(t.weather[0].description),1),(0,a._)("div",null,(0,a.zw)(Math.round(t.main.temp))+"℃",1)])):(0,a.kq)("",!0)])))),256))]),l,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(w.locationMap.values(),(t=>((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",p,(0,a.zw)(w.mappingMap.get(t.lat+","+t.lon)),1),"undefined"!=typeof t.daily?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(5,(e=>(0,a._)("div",f,[(0,a._)("div",g,(0,a.zw)(t.daily[e].weather[0].description),1),(0,a._)("div",null,(0,a.zw)(Math.round(t.daily[e].temp.day))+"℃ ",1)]))),64)):(0,a.kq)("",!0)])))),256))])])}var w={name:"home",data(){return{api_key:"5a306bc73f0cb9922c8fd498d92bcce6",url_base:"https://api.openweathermap.org/data/2.5/",cityMap:new Map,db:{},locationMap:new Map,mappingMap:new Map,cityNameMap:new Map([["Chengdu","成都"],["Shanghai","上海"],["Bazhong","巴中"],["Ganzhou","赣州"]])}},mounted(){this.db=this.dataBuilder(),this.fetchWeather("chengdu"),this.fetchWeather("shanghai"),this.fetchWeather("bazhong"),this.fetchWeather("ganzhou"),this.fetchForecast(["30.39","104.04"]),this.fetchForecast(["31.22","121.48"]),this.fetchForecast(["31.85","106.754"]),this.fetchForecast(["25.83","114.93"]),this.mappingMap.set("30.39,104.04","成都"),this.mappingMap.set("31.22,121.48","上海"),this.mappingMap.set("31.85,106.754","巴中"),this.mappingMap.set("25.83,114.93","赣州")},methods:{fetchWeather(t){fetch(`${this.url_base}weather?q=${t}&lang=zh_cn&units=metric&APPID=${this.api_key}`).then((t=>t.json())).then((e=>{this.cityMap.set(t,e)}))},fetchForecast(t){fetch(`${this.url_base}onecall?lat=${t[0]}&lon=${t[1]}&lang=zh_cn&units=metric&appid=${this.api_key}`).then((t=>t.json())).then((e=>{this.locationMap.set(t,e),console.log(this.locationMap)}))},dataBuilder(){let t=new Date,e=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],n=["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],a=n[t.getDay()],i=t.getDate(),r=e[t.getMonth()],o=t.getFullYear();return{month:r,date:i,day:a,year:o}}}},y=n(8998);const b=(0,y.Z)(w,[["render",v]]);var m=b,M=n(2357),_=(0,M.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,a.ri)(m).use(_).mount("#app")}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var r=e[a]={exports:{}};return t[a](r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,a,i,r){if(!a){var o=1/0;for(u=0;u<t.length;u++){a=t[u][0],i=t[u][1],r=t[u][2];for(var c=!0,s=0;s<a.length;s++)(!1&r||o>=r)&&Object.keys(n.O).every((function(t){return n.O[t](a[s])}))?a.splice(s--,1):(c=!1,r<o&&(o=r));if(c){t.splice(u--,1);var h=i();void 0!==h&&(e=h)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[a,i,r]}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,r,o=a[0],c=a[1],s=a[2],h=0;if(o.some((function(e){return 0!==t[e]}))){for(i in c)n.o(c,i)&&(n.m[i]=c[i]);if(s)var u=s(n)}for(e&&e(a);h<o.length;h++)r=o[h],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},a=self["webpackChunkweathercard"]=self["webpackChunkweathercard"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(2997)}));a=n.O(a)})();
//# sourceMappingURL=app.31f46c54.js.map